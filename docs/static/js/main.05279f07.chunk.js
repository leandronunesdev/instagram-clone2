(this["webpackJsonpinstagram-clone"]=this["webpackJsonpinstagram-clone"]||[]).push([[0],{28:function(e,t,s){},35:function(e,t,s){},55:function(e,t,s){"use strict";s.r(t);var c,n=s(1),r=s.n(n),i=s(6),a=s.n(i),o=(s(28),s(3)),u=(s(35),s(4)),j=s.n(u),l=s(8),d=s.p+"static/media/logo-instagram.d6991581.png",b=s(7);!function(e){e.GET_USER="GET_USER"}(c||(c={}));var O,h=s(0),p=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.user}));return Object(n.useEffect)((function(){j.a.get("http://localhost:4000/user").then((function(t){return e((s=t.data,Object(b.action)(c.GET_USER,s)));var s}))}),[]),Object(h.jsx)("div",{className:"header",children:Object(h.jsxs)("header",{children:[Object(h.jsx)("img",{src:d,alt:"Logo Instagram"}),Object(h.jsx)("div",{className:"top-info",children:Object(h.jsxs)("span",{children:[Object(h.jsx)(l.b,{}),t.name]})})]})})};!function(e){e.GET_POSTS="GET_POSTS",e.LIKE_POST="LIKE_POST"}(O||(O={}));var m=function(e){return Object(b.action)(O.GET_POSTS,e)},f=function(){var e=Object(o.b)(),t=Object(n.useRef)(null),s=Object(n.useRef)(null),c=Object(o.c)((function(e){return e.user})),r=function(){j.a.get("http://localhost:4000/posts").then((function(t){return e(m(t.data))}))};return Object(h.jsxs)("div",{className:"form",children:[Object(h.jsx)("p",{children:"Fa\xe7a uma postagem aqui"}),Object(h.jsx)("input",{type:"text",placeholder:"Cole a url da imagem",ref:t}),Object(h.jsx)("input",{type:"text",placeholder:"Digite uma descri\xe7\xe3o",ref:s}),Object(h.jsx)("button",{onClick:function(){var e,n,i={postPicture:null===(e=t.current)||void 0===e?void 0:e.value,description:null===(n=s.current)||void 0===n?void 0:n.value,user:c.username,userPicture:c.userPicture};j.a.post("http://localhost:4000/posts",i),r(),r()},children:"Postar!"})]})},x=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.posts.arrayPosts})),s=function(){j.a.get("http://localhost:4000/posts").then((function(t){return e(m(t.data))}))};return Object(n.useEffect)((function(){j.a.get("http://localhost:4000/posts").then((function(t){return e(m(t.data))}))}),[]),Object(h.jsxs)("div",{className:"post-container",children:[Object(h.jsx)(f,{}),void 0!==t&&t.map((function(e){return Object(h.jsxs)("div",{className:"post",children:[Object(h.jsxs)("header",{children:[Object(h.jsx)("img",{src:e.userPicture,alt:e.user}),Object(h.jsxs)("div",{className:"post-user",children:[Object(h.jsx)("strong",{children:e.user}),Object(h.jsx)("span",{children:e.location})]})]}),Object(h.jsx)("div",{className:"post-image",children:Object(h.jsx)("img",{src:e.postPicture,alt:"post"})}),Object(h.jsxs)("div",{className:"post-likes",children:[Object(h.jsx)(l.a,{onClick:function(){return function(e){var t={likes:e.likes+1};j.a.patch("http://localhost:4000/posts/".concat(e.id),t),s(),s()}(e)}})," ",e.likes]}),Object(h.jsx)("p",{children:e.description})]},e.id)}))]})},v=s(23),g=function(){var e=Object(n.useState)([]),t=Object(v.a)(e,2),s=t[0],c=t[1];return Object(n.useEffect)((function(){j.a.get("http://localhost:4000/stories").then((function(e){return c(e.data)}))}),[]),Object(h.jsxs)("div",{className:"stories",children:[Object(h.jsx)("h2",{children:"Stories"}),void 0!==s&&s.map((function(e){return Object(h.jsxs)("div",{className:"storie",children:[Object(h.jsx)("div",{className:"storie-image",children:Object(h.jsx)("img",{src:e.userPicture,alt:"user"})}),Object(h.jsxs)("div",{className:"storie-user",children:[Object(h.jsx)("strong",{children:e.user}),Object(h.jsx)("span",{children:e.time})]})]},e.id)}))]})},P=function(){var e=Object(o.c)((function(e){return e.user}));return Object(h.jsxs)("div",{className:"user-info",children:[Object(h.jsx)("img",{alt:"Perfil",src:e.userPicture}),Object(h.jsxs)("div",{className:"user-bio",children:[Object(h.jsx)("strong",{children:e.name}),Object(h.jsx)("span",{children:e.username})]})]})},S=function(){return Object(h.jsxs)("div",{className:"Sidebar",children:[Object(h.jsx)(P,{}),Object(h.jsx)(g,{})]})},E=function(){return Object(h.jsxs)("div",{className:"home",children:[Object(h.jsx)(x,{}),Object(h.jsx)(S,{})]})},N=s(5),T=s(22),y={arrayPosts:[]};var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.GET_POSTS:return{arrayPosts:t.payload};case O.LIKE_POST:return{};default:return e}},k={name:"",username:"",userPicture:""};var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.GET_USER:return{name:t.payload.name,username:t.payload.username,userPicture:t.payload.userPicture};default:return e}},R=Object(N.createStore)(Object(N.combineReducers)({user:G,posts:_}),Object(T.composeWithDevTools)());var I=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(o.a,{store:R,children:[Object(h.jsx)(p,{}),Object(h.jsx)(E,{})]})})};a.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(I,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.05279f07.chunk.js.map